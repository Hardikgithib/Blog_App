{"ast":null,"code":"import _defineProperty from\"C:/Users/admin/Desktop/Blog_app/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/admin/Desktop/Blog_app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/admin/Desktop/Blog_app/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import\"./Login.css\";import{Link}from\"react-router-dom\";import{useState}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import'react-toastify/dist/ReactToastify.css';import swal from'sweetalert';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(){var navigate=useNavigate();var _useState=useState({email:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),emailErr=_useState4[0],setEmailErr=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),passwordErr=_useState6[0],setPasswordErr=_useState6[1];var handleChange=function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setUser(_objectSpread(_objectSpread({},user),{},_defineProperty({},name,value)));setEmailErr(false);setPasswordErr(false);};var login=function login(e){e.preventDefault();var eRegex=/^[a-zA-Z0-9+_.-]+@[a-zA-Z0-9.-]+$/;var pwdRegex=/^(?=.{8,})(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%^&+=]).*$/;if(user.email===\"\"||!eRegex.test(user.email)){setEmailErr(true);}else if(user.password===\"\"||!pwdRegex.test(user.password)){setPasswordErr(true);}else{axios.post('http://localhost:8081/login',user,{validateStatus:false}).then(function(res){if(res.data.statusCode===200){var record=localStorage.setItem('token',res.data.data.token);// storing token in local storage\nvar _user=localStorage.setItem('user',JSON.stringify(res.data.data));// mapping user details\nnavigate('/AddBlog');swal(res.data.message,\"success\");}else{swal(res.data.message);}}).catch(function(err){swal(err);});}};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"login-container \",children:/*#__PURE__*/_jsxs(\"form\",{action:\"\",Class:\"form-login\",style:{height:\"80%\"},children:[/*#__PURE__*/_jsxs(\"ul\",{Class:\"login-nav\",children:[/*#__PURE__*/_jsx(\"li\",{Class:\"login-nav__item active \",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Sign in\"})}),/*#__PURE__*/_jsx(\"li\",{Class:\"login-nav__item \",children:/*#__PURE__*/_jsx(Link,{to:\"/Register\",children:\"SignUp\"})})]}),/*#__PURE__*/_jsx(\"label\",{for:\"login-input-user\",Class:\"login__label\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{id:\"login-input-user\",Class:\"login__input\",name:\"email\",value:user.email,type:\"text\",onChange:handleChange}),emailErr?/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:\"Please Enter Valid Email\"}):false,/*#__PURE__*/_jsx(\"label\",{for:\"login-input-password\",Class:\"login__label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{id:\"login-input-password\",Class:\"login__input\",name:\"password\",value:user.password,type:\"password\",onChange:handleChange}),passwordErr?/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:\"Please Enter Valid Password\"}):false,/*#__PURE__*/_jsx(\"button\",{Class:\"login__submit\",onClick:login,children:\"Sign in\"})]})})});}","map":{"version":3,"names":["React","Link","useState","axios","useNavigate","swal","jsx","_jsx","jsxs","_jsxs","Login","navigate","_useState","email","password","_useState2","_slicedToArray","user","setUser","_useState3","_useState4","emailErr","setEmailErr","_useState5","_useState6","passwordErr","setPasswordErr","handleChange","e","_e$target","target","name","value","_objectSpread","_defineProperty","login","preventDefault","eRegex","pwdRegex","test","post","validateStatus","then","res","data","statusCode","record","localStorage","setItem","token","JSON","stringify","message","catch","err","children","className","action","Class","style","height","to","for","id","type","onChange","color","onClick"],"sources":["C:/Users/admin/Desktop/Blog_app/frontend/src/components/Login.js"],"sourcesContent":["import React from 'react'\r\nimport \"./Login.css\"\r\nimport { Link } from \"react-router-dom\";\r\nimport { useState } from 'react';\r\nimport axios from 'axios'\r\nimport { useNavigate} from 'react-router-dom'\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport swal from 'sweetalert';\r\nexport default function Login() {\r\n    const navigate = useNavigate()\r\n    const [user, setUser] = useState({\r\n        email: \"\",\r\n        password: \"\"\r\n    })\r\n    const [emailErr,setEmailErr] = useState(false)\r\n    const [passwordErr,setPasswordErr] = useState(false)\r\n\r\n    const handleChange = (e) =>{\r\n        const { name, value } = e.target\r\n        setUser({\r\n            ...user,\r\n            [name]: value,     \r\n    })\r\n    setEmailErr(false)\r\n    setPasswordErr(false)\r\n    }\r\n\r\n    const login = (e) =>{\r\n        e.preventDefault()\r\n       \r\n        const eRegex= /^[a-zA-Z0-9+_.-]+@[a-zA-Z0-9.-]+$/\r\n        const pwdRegex=/^(?=.{8,})(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%^&+=]).*$/\r\n        if (user.email === \"\" || !eRegex.test(user.email)) {\r\n            setEmailErr(true)\r\n            \r\n        }\r\n        else if (user.password === \"\" || !pwdRegex.test(user.password)) {\r\n            setPasswordErr(true)\r\n           \r\n        }\r\n        else\r\n        {\r\n            axios.post('http://localhost:8081/login',user,{ validateStatus: false }).then((res)=>{\r\n            if (res.data.statusCode === 200) {\r\n               \r\n                const record = localStorage.setItem('token', res.data.data.token) // storing token in local storage\r\n               \r\n                const user = localStorage.setItem('user', JSON.stringify(res.data.data)) // mapping user details\r\n                navigate('/AddBlog')\r\n                swal(res.data.message,\"success\")\r\n\r\n            } else {\r\n                swal(res.data.message)\r\n            }       \r\n        }).catch((err) => {\r\n            swal(err)\r\n        })\r\n        }\r\n    }\r\n\r\n   \r\n  return (\r\n    <div >\r\n    <div className=\"login-container \"  >\r\n\t<form action=\"\" Class=\"form-login\" style={{height:\"80%\"}}>\r\n\t\t<ul Class=\"login-nav\">\r\n\t\t\t<li Class=\"login-nav__item active \">\r\n\t\t\t<Link to =\"/\">Sign in</Link>\r\n\t\t\t</li>\r\n\t\t\t<li Class=\"login-nav__item \">\r\n\t\t\t<Link to = \"/Register\">SignUp</Link>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\t\t<label for=\"login-input-user\" Class=\"login__label\">\r\n\t\t\tEmail\r\n\t\t</label>\r\n\t\t<input id=\"login-input-user\" Class=\"login__input\" name=\"email\" value={user.email} type=\"text\" onChange={handleChange} />\r\n        {emailErr?<p style={{color:\"red\"}}>Please Enter Valid Email</p>:false}\r\n\t\t<label for=\"login-input-password\" Class=\"login__label\">\r\n\t\t\tPassword\r\n\t\t</label>\r\n\t\t<input id=\"login-input-password\" Class=\"login__input\" name=\"password\" value={user.password} type=\"password\" onChange={handleChange} />\r\n        {passwordErr?<p style={{color:\"red\"}}>Please Enter Valid Password</p>:false}\r\n\t\t\r\n\t\t<button Class=\"login__submit\" onClick={login}>Sign in</button>\r\n\t</form>\r\n\t\r\n</div>\r\n</div>\r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}